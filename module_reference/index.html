
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lizard.dev/module_reference/">
      
      
        <link rel="prev" href="../examples/">
      
      
        <link rel="next" href="../machine_safety/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Module Reference - Lizard</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Source Sans Pro";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Lizard" class="md-header__button md-logo" aria-label="Lizard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lizard
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Module Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/zauberzeug/lizard" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Lizard" class="md-nav__button md-logo" aria-label="Lizard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Lizard
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zauberzeug/lizard" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Lizard Language
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Module Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Module Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core" class="md-nav__link">
    <span class="md-ellipsis">
      Core
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      Bluetooth
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pwm-output" class="md-nav__link">
    <span class="md-ellipsis">
      PWM Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcp23017-port-expander" class="md-nav__link">
    <span class="md-ellipsis">
      MCP23017 Port Expander
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imu" class="md-nav__link">
    <span class="md-ellipsis">
      IMU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-interface" class="md-nav__link">
    <span class="md-ellipsis">
      CAN interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Serial interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linear-motor" class="md-nav__link">
    <span class="md-ellipsis">
      Linear motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#odrive-motor" class="md-nav__link">
    <span class="md-ellipsis">
      ODrive Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#odrive-wheels" class="md-nav__link">
    <span class="md-ellipsis">
      ODrive Wheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmd-motor" class="md-nav__link">
    <span class="md-ellipsis">
      RMD Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmd-motor-pair" class="md-nav__link">
    <span class="md-ellipsis">
      RMD Motor Pair
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw-motor" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw-wheels" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw Wheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stepper-motor" class="md-nav__link">
    <span class="md-ellipsis">
      Stepper Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-axis" class="md-nav__link">
    <span class="md-ellipsis">
      Motor Axis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canopenmaster" class="md-nav__link">
    <span class="md-ellipsis">
      CanOpenMaster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canopenmotor" class="md-nav__link">
    <span class="md-ellipsis">
      CanOpenMotor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#d1-motor" class="md-nav__link">
    <span class="md-ellipsis">
      D1 Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dunkermotor" class="md-nav__link">
    <span class="md-ellipsis">
      DunkerMotor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dunkerwheels" class="md-nav__link">
    <span class="md-ellipsis">
      DunkerWheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analog-input" class="md-nav__link">
    <span class="md-ellipsis">
      Analog Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expander" class="md-nav__link">
    <span class="md-ellipsis">
      Expander
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Proxy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../machine_safety/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Safety
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core" class="md-nav__link">
    <span class="md-ellipsis">
      Core
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      Bluetooth
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pwm-output" class="md-nav__link">
    <span class="md-ellipsis">
      PWM Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcp23017-port-expander" class="md-nav__link">
    <span class="md-ellipsis">
      MCP23017 Port Expander
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imu" class="md-nav__link">
    <span class="md-ellipsis">
      IMU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-interface" class="md-nav__link">
    <span class="md-ellipsis">
      CAN interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Serial interface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linear-motor" class="md-nav__link">
    <span class="md-ellipsis">
      Linear motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#odrive-motor" class="md-nav__link">
    <span class="md-ellipsis">
      ODrive Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#odrive-wheels" class="md-nav__link">
    <span class="md-ellipsis">
      ODrive Wheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmd-motor" class="md-nav__link">
    <span class="md-ellipsis">
      RMD Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmd-motor-pair" class="md-nav__link">
    <span class="md-ellipsis">
      RMD Motor Pair
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw-motor" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roboclaw-wheels" class="md-nav__link">
    <span class="md-ellipsis">
      RoboClaw Wheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stepper-motor" class="md-nav__link">
    <span class="md-ellipsis">
      Stepper Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-axis" class="md-nav__link">
    <span class="md-ellipsis">
      Motor Axis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canopenmaster" class="md-nav__link">
    <span class="md-ellipsis">
      CanOpenMaster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canopenmotor" class="md-nav__link">
    <span class="md-ellipsis">
      CanOpenMotor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#d1-motor" class="md-nav__link">
    <span class="md-ellipsis">
      D1 Motor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dunkermotor" class="md-nav__link">
    <span class="md-ellipsis">
      DunkerMotor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dunkerwheels" class="md-nav__link">
    <span class="md-ellipsis">
      DunkerWheels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analog-input" class="md-nav__link">
    <span class="md-ellipsis">
      Analog Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expander" class="md-nav__link">
    <span class="md-ellipsis">
      Expander
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Proxy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="module-reference">Module Reference<a class="headerlink" href="#module-reference" title="Permanent link">&para;</a></h1>
<p>All Lizard modules have the following methods in common.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>module.mute()</code></td>
<td>Turn output off</td>
</tr>
<tr>
<td><code>module.unmute()</code></td>
<td>Turn output on</td>
</tr>
<tr>
<td><code>module.shadow()</code></td>
<td>Send all method calls also to another module</td>
</tr>
<tr>
<td><code>module.broadcast()</code></td>
<td>Regularly send properties to another microcontroller (for internal use)</td>
</tr>
</tbody>
</table>
<p>Shadows are useful if multiple modules should behave exactly the same, e.g. two actuators that should always move synchronously.</p>
<p>The <code>broadcast</code> method is used internally with <a href="#expander">port expanders</a>.</p>
<h2 id="core">Core<a class="headerlink" href="#core" title="Permanent link">&para;</a></h2>
<p>The core module encapsulates various properties and methods that are related to the microcontroller itself.
It is automatically created right after the boot sequence.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>core.debug</code></td>
<td>Whether to output debug information to the command line</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>core.millis</code></td>
<td>Time since booting the microcontroller (ms)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>core.heap</code></td>
<td>Free heap memory (bytes)</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>core.restart()</code></td>
<td>Restart the microcontroller</td>
<td></td>
</tr>
<tr>
<td><code>core.version()</code></td>
<td>Show lizard version</td>
<td></td>
</tr>
<tr>
<td><code>core.info()</code></td>
<td>Show lizard version, compile time and IDF version</td>
<td></td>
</tr>
<tr>
<td><code>core.print(...)</code></td>
<td>Print arbitrary arguments to the command line</td>
<td>arbitrary</td>
</tr>
<tr>
<td><code>core.output(format)</code></td>
<td>Define the output format</td>
<td><code>str</code></td>
</tr>
<tr>
<td><code>core.startup_checksum()</code></td>
<td>Show 16-bit checksum of the startup script</td>
<td></td>
</tr>
<tr>
<td><code>core.ota(ssid, password, url)</code></td>
<td>Starts OTA update on a URL with given WiFi</td>
<td>3x <code>str</code></td>
</tr>
<tr>
<td><code>core.get_pin_status(pin)</code></td>
<td>Print the status of the chosen pin</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>core.set_pin_level(pin, value)</code></td>
<td>Turns the pin into an output and sets its level</td>
<td><code>int</code>, <code>int</code></td>
</tr>
<tr>
<td><code>core.get_pin_strapping(pin)</code></td>
<td>Print value of the pin from the strapping register</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<p>The output <code>format</code> is a string with multiple space-separated elements of the pattern <code>&lt;module&gt;.&lt;property&gt;[:&lt;precision&gt;]</code> or <code>&lt;variable&gt;[:&lt;precision&gt;]</code>.
The <code>precision</code> is an optional integer specifying the number of decimal places for a floating point number.
For example, the format <code>"core.millis input.level motor.position:3"</code> might yield an output like <code>"92456 1 12.789"</code>.</p>
<p>The OTA update will try to connect to the specified WiFi network with the provided SSID and password.
After initializing the WiFi connection, it will attempt an OTA update from the given URL.
Upon successful updating, the ESP will restart and attempt to verify the OTA update.
It will reconnect to the WiFi and try to access URL + <code>/verify</code> to receive a message with the current version of Lizard.
The test is considered successful if an HTTP request is received, even if the version does not match or is empty.
If the newly updated Lizard cannot connect to URL + <code>/verify</code>, the OTA update will be rolled back.</p>
<p><code>core.get_pin_status(pin)</code> reads the pin's voltage, not the output state directly.</p>
<h2 id="bluetooth">Bluetooth<a class="headerlink" href="#bluetooth" title="Permanent link">&para;</a></h2>
<p>Lizard can receive messages via Bluetooth Low Energy, and also send messages in return to a connected device.
Simply create a Bluetooth module with a device name of your choice.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bluetooth = Bluetooth(device_name)</code></td>
<td>initialize bluetooth with advertised <code>device_name</code></td>
<td><code>str</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bluetooth.send(data)</code></td>
<td>send <code>data</code> via notification</td>
<td><code>str</code></td>
</tr>
</tbody>
</table>
<p>Lizard will offer a service 23014CCC-4677-4864-B4C1-8F772B373FAC and a characteristic 37107598-7030-46D3-B688-E3664C1712F0 that allows writing Lizard statements like on the command line. On a second characteristic 19f91f52-e3b1-4809-9d71-bc16ecd81069 notifications will be emitted when <code>send(data)</code> is executed.</p>
<h2 id="input">Input<a class="headerlink" href="#input" title="Permanent link">&para;</a></h2>
<p>The input module is associated with a digital input pin that is be connected to a pushbutton, sensor or other input signal.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>input = Input(pin)</code></td>
<td><code>pin</code> is the corresponding GPIO number</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>input.level</code></td>
<td>Current signal level (0 or 1)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>input.change</code></td>
<td>Level change since last cycle (-1..1)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>input.inverted</code></td>
<td>Inverts the active property if true</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>input.active</code></td>
<td>Current active state of the input</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p>Usually, an input is considered active if and only if its level is high.
If the <code>inverted</code> property is set to <code>true</code>, the input is considered active if and only if its level is low.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>input.get()</code></td>
<td>Output the current level</td>
</tr>
<tr>
<td><code>input.pullup()</code></td>
<td>Add an internal pull-up resistor</td>
</tr>
<tr>
<td><code>input.pulldown()</code></td>
<td>Add an internal pull-down resistor</td>
</tr>
<tr>
<td><code>input.pulloff()</code></td>
<td>Remove internal pull resistor</td>
</tr>
</tbody>
</table>
<h2 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h2>
<p>The output module is associated with a digital output pin that is connected to an LED, actuator or other output signal.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output = Output(pin)</code></td>
<td><code>pin</code> is the corresponding GPIO number</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output.level</code></td>
<td>Current signal level (0 or 1)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>output.change</code></td>
<td>Level change since last cycle (-1..1)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>output.enabled</code></td>
<td>Whether the output is enabled</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>output.inverted</code></td>
<td>Whether the output is inverted</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>output.active</code></td>
<td>Whether the output is active</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p>Usually, an output is considered active if and only if its level is high.
If the <code>inverted</code> property is set to <code>true</code>, the output is considered active if and only if its level is low.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output.on()</code></td>
<td>Set the output pin high</td>
<td></td>
</tr>
<tr>
<td><code>output.off()</code></td>
<td>Set the output pin low</td>
<td></td>
</tr>
<tr>
<td><code>output.level(value)</code></td>
<td>Set the output level to the given <code>value</code></td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>output.pulse(interval[, duty_cycle])</code></td>
<td>Switch output on and off</td>
<td><code>float</code>s</td>
</tr>
<tr>
<td><code>output.enable()</code></td>
<td>Enable the output</td>
<td></td>
</tr>
<tr>
<td><code>output.disable()</code></td>
<td>Disable the output</td>
<td></td>
</tr>
<tr>
<td><code>output.activate()</code></td>
<td>Activate the output</td>
<td></td>
</tr>
<tr>
<td><code>output.deactivate()</code></td>
<td>Deactivate the output</td>
<td></td>
</tr>
</tbody>
</table>
<p>The <code>pulse()</code> method allows pulsing an output with a given interval in seconds and an optional duty cycle between 0 and 1 (0.5 by default).
Note that the pulsing frequency is limited by the main loop to around 20 Hz.</p>
<p>When the output is disabled, it will deactivate and ignore on/off or level commands.</p>
<h2 id="pwm-output">PWM Output<a class="headerlink" href="#pwm-output" title="Permanent link">&para;</a></h2>
<p>The PWM output module is associated with a digital output pin that is connected to an LED, actuator or other output signal.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pwm = PwmOutput(pin)</code></td>
<td><code>pin</code> is the corresponding GPIO number</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output.duty</code></td>
<td>Duty cycle (8 bit: 0..256, default: 128)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>output.frequency</code></td>
<td>Frequency (Hz, default: 1000)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>output.enabled</code></td>
<td>Whether the output is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output.on()</code></td>
<td>Turn on the PWM signal</td>
<td></td>
</tr>
<tr>
<td><code>output.off()</code></td>
<td>Turn off the PWM signal</td>
<td></td>
</tr>
<tr>
<td><code>output.enable()</code></td>
<td>Enable the PWM output</td>
<td></td>
</tr>
<tr>
<td><code>output.disable()</code></td>
<td>Disable the PWM output</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the output is disabled, it will turn off the PWM signal and ignore on/off commands.</p>
<h2 id="mcp23017-port-expander">MCP23017 Port Expander<a class="headerlink" href="#mcp23017-port-expander" title="Permanent link">&para;</a></h2>
<p>The MCP23017 allows controlling up to 16 general purpose input or output pins via I2C.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mcp = Mcp23017([port[, sda[, scl[, address[, clk_speed]]]]])</code></td>
<td>See below</td>
<td><code>int</code>s</td>
</tr>
</tbody>
</table>
<p>The constructor expects up to five arguments:</p>
<ul>
<li><code>port</code>: 0 or 1, since the ESP32 has two I2C ports (default: 0)</li>
<li><code>sda</code>: SDA pin (default: 21)</li>
<li><code>scl</code>: SCL pin (default: 22)</li>
<li><code>address</code>: client address of the MCP (0x20..0x28, default: 0x20)</li>
<li><code>clk_speed</code>: I2C clock speed (default: 100000)</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mcp.levels</code></td>
<td>Levels of all 16 pins</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>mcp.inputs</code></td>
<td>Input mode of all 16 pins</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>mcp.pullups</code></td>
<td>Pull-up resistors for all 16 pins</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<p>The properties <code>levels</code>, <code>inputs</code> and <code>pullups</code> contain binary information for all 16 pins in form of a 16 bit unsigned integer.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mcp.levels(value)</code></td>
<td>Set levels of all 16 pins</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>mcp.inputs(value)</code></td>
<td>Set input mode of all 16 pins</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>mcp.pullups(value)</code></td>
<td>Set pull-up resistors for all 16 pins</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<p>The methods <code>levels()</code>, <code>inputs()</code> and <code>pullups()</code> expect a 16 bit unsigned integer <code>value</code> containing binary information for all 16 pins.</p>
<p>Use <code>inputs()</code> to configure input and output pins, e.g. <code>inputs(0xffff)</code> all inputs or <code>inputs(0x0000)</code> all outputs.
While <code>levels()</code> will only affect output pins, <code>pullups()</code> will only affect the levels of input pins.</p>
<p>Using an MCP23017 port expander module you can not only access individual pins.
You can also instantiate the following modules passing the <code>mcp</code> instance as the first argument:</p>
<ul>
<li>Input: <code>input = Input(mcp, pin)</code></li>
<li>Output: <code>output = Output(mcp, pin)</code></li>
<li>Linear motor: <code>motor = LinearMotor(mcp, move_in, move_out, end_in, end_out)</code></li>
</ul>
<p>The pins <code>pin</code>, <code>move_in</code>, <code>move_out</code>, <code>end_in</code> and <code>end_out</code> are numbers from 0 to 15 referring to A0...A7 and B0...B7 on the MCP23017.</p>
<h2 id="imu">IMU<a class="headerlink" href="#imu" title="Permanent link">&para;</a></h2>
<p>The IMU module provides access to a Bosch BNO055 9-axis absolute orientation sensor.
Currently, only reading the accelerometer is implemented.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imu = Imu([port[, sda[, scl[, address[, clk_speed]]]]])</code></td>
<td>See below</td>
<td><code>int</code>s</td>
</tr>
</tbody>
</table>
<p>The constructor expects up to five arguments:</p>
<ul>
<li><code>port</code>: 0 or 1, since the ESP32 has two I2C ports (default: 0)</li>
<li><code>sda</code>: SDA pin (default: 21)</li>
<li><code>scl</code>: SCL pin (default: 22)</li>
<li><code>address</code>: client address of the MCP (0x28 or 0x29, default: 0x28)</li>
<li><code>clk_speed</code>: I2C clock speed (default: 100000)</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imu.cal_sys</code></td>
<td>calibration: system (0 to 3)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>imu.cal_gyr</code></td>
<td>calibration: gyroscope (0 to 3)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>imu.cal_acc</code></td>
<td>calibration: accelerometer (0 to 3)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>imu.cal_mag</code></td>
<td>calibration: magnetometer (0 to 3)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>imu.acc_x</code></td>
<td>acceleration incl. gravity: x direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.acc_y</code></td>
<td>acceleration incl. gravity: y direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.acc_z</code></td>
<td>acceleration incl. gravity: z direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.mag_x</code></td>
<td>magnetic field strength: x direction (µT)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.mag_y</code></td>
<td>magnetic field strength: y direction (µT)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.mag_z</code></td>
<td>magnetic field strength: z direction (µT)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.gyr_x</code></td>
<td>gyroscope: x direction (degrees/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.gyr_y</code></td>
<td>gyroscope: y direction (degrees/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.gyr_z</code></td>
<td>gyroscope: z direction (degrees/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.yaw</code></td>
<td>orientation: Euler angle yaw (degrees)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.roll</code></td>
<td>orientation: Euler angle roll (degrees)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.pitch</code></td>
<td>orientation: Euler angle pitch (degrees)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.quat_w</code></td>
<td>orientation: quaternion component w</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.quat_x</code></td>
<td>orientation: quaternion component x</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.quat_y</code></td>
<td>orientation: quaternion component y</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.quat_z</code></td>
<td>orientation: quaternion component z</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.lin_x</code></td>
<td>acceleration excl. gravity: x direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.lin_y</code></td>
<td>acceleration excl. gravity: y direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.lin_z</code></td>
<td>acceleration excl. gravity: z direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.grav_x</code></td>
<td>gravity: x direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.grav_y</code></td>
<td>gravity: y direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.grav_z</code></td>
<td>gravity: z direction (m/s^2)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>imu.temp</code></td>
<td>temperature (degrees Celsius)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>imu.data_select</code></td>
<td>data selection</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<p>The <code>data_select</code> property can be used to select which data is read from the IMU.
The default value is 0xffff, which means all data is read.
The following bits are available:</p>
<ul>
<li>0x0001: calibration status</li>
<li>0x0002: accelerometer data</li>
<li>0x0004: magnetometer data</li>
<li>0x0008: gyroscope data</li>
<li>0x0010: Euler angles</li>
<li>0x0020: quaternion</li>
<li>0x0040: linear acceleration</li>
<li>0x0080: gravity</li>
<li>0x0100: temperature</li>
</ul>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imu.set_mode(mode)</code></td>
<td>Set operation mode of the IMU</td>
<td><code>str</code></td>
</tr>
</tbody>
</table>
<p>The <code>mode</code> parameter can be one of the following:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Accel</th>
<th>Mag</th>
<th>Gyro</th>
<th>Relative Orientation</th>
<th>Absolute Orientation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>configmode</code></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>acconly</code></td>
<td>X</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>magonly</code></td>
<td>-</td>
<td>X</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>gyroonly</code></td>
<td>-</td>
<td>-</td>
<td>X</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>accmag</code></td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>accgyro</code></td>
<td>X</td>
<td>-</td>
<td>X</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>maggyro</code></td>
<td>-</td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>amg</code></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><code>imu</code></td>
<td>X</td>
<td>-</td>
<td>X</td>
<td>X</td>
<td>-</td>
</tr>
<tr>
<td><code>compass</code></td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>-</td>
<td>X</td>
</tr>
<tr>
<td><code>m4g</code></td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td>-</td>
</tr>
<tr>
<td><code>ndof_fmc_off</code></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>X</td>
</tr>
<tr>
<td><code>ndof</code></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>-</td>
<td>X</td>
</tr>
</tbody>
</table>
<p>In non-fusion modes (<code>acconly</code>, <code>magonly</code>, <code>gyroonly</code>, <code>accmag</code>, <code>accgyro</code>, <code>maggyro</code>, <code>amg</code>),
the sensor signals (Accel, Mag, Gyro) are uncompensated and fusion data (Relative and Absolute Orientation) is not available.</p>
<p>In fusion modes (<code>imu</code>, <code>compass</code>, <code>m4g</code>, <code>ndof_fmc_off</code>, <code>ndof</code>),
the sensor signals (Accel, Mag, Gyro) are compensated and fusion data (Relative and Absolute Orientation) is available.</p>
<p>Note that the individual sensors need to be calibrated before the compensated and fused data is accurate.</p>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Calibration</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accelerometer</td>
<td>Position the sensor in 6 different stable orientations</td>
</tr>
<tr>
<td>Magnetometer</td>
<td>Move the sensor in a figure-8 pattern in space</td>
</tr>
<tr>
<td>Gyroscope</td>
<td>Keep the sensor still for a few seconds</td>
</tr>
</tbody>
</table>
<h2 id="can-interface">CAN interface<a class="headerlink" href="#can-interface" title="Permanent link">&para;</a></h2>
<p>The CAN module allows communicating with peripherals on the specified CAN bus.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>can = Can(rx, tx, baud)</code></td>
<td>RX/TX pins and baud rate</td>
<td><code>int</code>, <code>int</code>, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>can.send(node_id, d0, d1, d2, d3, d4, d5, d6, d7)</code></td>
<td>Send a frame with 8 data bytes</td>
<td>9x <code>int</code></td>
</tr>
<tr>
<td><code>can.get_status()</code></td>
<td>Print the driver status</td>
<td></td>
</tr>
<tr>
<td><code>can.start()</code></td>
<td>Start the driver</td>
<td></td>
</tr>
<tr>
<td><code>can.stop()</code></td>
<td>Stop the driver</td>
<td></td>
</tr>
<tr>
<td><code>can.recover()</code></td>
<td>Recover the driver</td>
<td></td>
</tr>
<tr>
<td><code>can.reset()</code></td>
<td>Reset the driver</td>
<td></td>
</tr>
</tbody>
</table>
<p>The method <code>get_status()</code> prints the following information:</p>
<ul>
<li><code>state</code> ("STOPPED", "RUNNING", "BUS_OFF" or "RECOVERING"),</li>
<li><code>msgs_to_tx</code>,</li>
<li><code>msgs_to_rx</code>,</li>
<li><code>tx_error_counter</code>,</li>
<li><code>rx_error_counter</code>,</li>
<li><code>tx_failed_count</code>,</li>
<li><code>rx_missed_count</code>,</li>
<li><code>rx_overrun_count</code>,</li>
<li><code>arb_lost_count</code> and</li>
<li><code>bus_error_count</code>.</li>
</ul>
<p>After creating a CAN module, the driver is started automatically.
The <code>start()</code> and <code>stop()</code> methods are primarily for debugging purposes.</p>
<p>The <code>recover()</code> method can be used to recover the driver from a "BUS_OFF" state.
In contrast, the <code>reset()</code> method will stop the driver, try to recover it and then start it again.</p>
<h2 id="serial-interface">Serial interface<a class="headerlink" href="#serial-interface" title="Permanent link">&para;</a></h2>
<p>The serial module allows communicating with peripherals via the specified connection.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>serial = Serial(rx, tx, baud, num)</code></td>
<td>RX/TX pins, baud rate, UART number</td>
<td>4x <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>serial.send(b0, b1, b2, ...)</code></td>
<td>Send a number of bytes</td>
<td><code>int</code>s</td>
</tr>
<tr>
<td><code>serial.read()</code></td>
<td>Read and output current buffer</td>
<td></td>
</tr>
</tbody>
</table>
<p>This module might be used by other modules that communicate with peripherals via serial.
You can, however, unmute the serial module to have incoming messages printed to the command line instead of keeping them buffered for other modules.</p>
<h2 id="linear-motor">Linear motor<a class="headerlink" href="#linear-motor" title="Permanent link">&para;</a></h2>
<p>This module controls a linear actuator via two output pins (move in, move out) and two input pins reading two limit switches (end in, end out).</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = LinearMotor(move_in, move_out, end_in, end_out)</code></td>
<td>motor control pins and limit switches</td>
<td>4x <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.in</code></td>
<td>Motor is in "in" position</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.out</code></td>
<td>Motor is in "out" position</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.in()</code></td>
<td>Move in</td>
</tr>
<tr>
<td><code>motor.out()</code></td>
<td>Move out</td>
</tr>
<tr>
<td><code>motor.stop()</code></td>
<td>Stop the motor</td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the motor</td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the motor</td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will stop and ignore in/out commands.</p>
<h2 id="odrive-motor">ODrive Motor<a class="headerlink" href="#odrive-motor" title="Permanent link">&para;</a></h2>
<p>The ODrive motor module controls a motor using an <a href="https://odriverobotics.com/">ODrive motor controller</a>.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = ODriveMotor(can, can_id[, version])</code></td>
<td>CAN module, node ID and version</td>
<td>CAN module, <code>int</code>, <code>int</code></td>
</tr>
</tbody>
</table>
<p>The <code>version</code> parameter is an optional integer indicating the patch number of the ODrive firmware (4, 5 or 6; default: 4 for version "0.5.4"). Version 0.5.6 allows to read the motor error flag.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.position</code></td>
<td>Motor position (meters)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.speed</code></td>
<td>Motor speed (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.tick_offset</code></td>
<td>Encoder tick offset</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.m_per_tick</code></td>
<td>Meters per encoder tick</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.reversed</code></td>
<td>Reverse motor direction</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.axis_state</code></td>
<td>State of the motor axis</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.axis_error</code></td>
<td>Error code of the axis</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.motor_error</code></td>
<td>Motor error flat (requires version 0.5.6)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.zero()</code></td>
<td>Set current position as zero position</td>
<td></td>
</tr>
<tr>
<td><code>motor.power(torque)</code></td>
<td>Move with given <code>torque</code></td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.speed(speed)</code></td>
<td>Move with given <code>speed</code> (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.position(position)</code></td>
<td>Move to given <code>position</code> (m)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.limits(speed, current)</code></td>
<td>Set speed (m/s) and current (A) limits</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>motor.off()</code></td>
<td>Turn motor off (idle state)</td>
<td></td>
</tr>
<tr>
<td><code>motor.reset_motor()</code></td>
<td>Resets the motor and clears errors</td>
<td></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.stop()</code></td>
<td>Stop the motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will stop and ignore movement commands.</p>
<h2 id="odrive-wheels">ODrive Wheels<a class="headerlink" href="#odrive-wheels" title="Permanent link">&para;</a></h2>
<p>The ODrive wheels module combines two ODrive motors and provides odometry and steering for differential wheeled robots.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels = ODriveWheels(left_motor, left_motor)</code></td>
<td>Two ODrive motor modules</td>
<td>two ODrive motor modules</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.width</code></td>
<td>Wheel distance (m)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.linear_speed</code></td>
<td>Forward speed (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.angular_speed</code></td>
<td>Turning speed (rad/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.enabled</code></td>
<td>Whether the wheels are enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.power(left, right)</code></td>
<td>Move with torque per wheel</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>wheels.speed(linear, angular)</code></td>
<td>Move with <code>linear</code>/<code>angular</code> speed (m/s, rad/s)</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>wheels.off()</code></td>
<td>Turn both motors off (idle state)</td>
<td></td>
</tr>
<tr>
<td><code>wheels.enable()</code></td>
<td>Enable both motors</td>
<td></td>
</tr>
<tr>
<td><code>wheels.disable()</code></td>
<td>Disable both motors</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the wheels are disabled, they will stop and ignore movement commands.
This allows disabling the wheels permanently by setting <code>enabled = false</code> in conjunction with calling the <code>off()</code> method.
Now the vehicle can be pushed manually with motors turned off, without taking care of every line of code potentially re-activating the motors.</p>
<h2 id="rmd-motor">RMD Motor<a class="headerlink" href="#rmd-motor" title="Permanent link">&para;</a></h2>
<p>The RMD motor module controls a <a href="https://www.myactuator.com/">MyActuator</a> RMD motor via CAN.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd = RmdMotor(can, motor_id, ratio)</code></td>
<td>CAN module, motor ID (1..8) and transmission ratio</td>
<td>CAN module, <code>int</code>, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd.position</code></td>
<td>Multi-turn motor position (deg)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.torque</code></td>
<td>Current torque</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.speed</code></td>
<td>Current speed (deg/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.temperature</code></td>
<td>Current temperature (˚C)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.can_age</code></td>
<td>Time since last CAN message from motor (s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd.power(torque)</code></td>
<td>Move with given <code>torque</code> (-32..32 A)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.speed(speed)</code></td>
<td>Move with given <code>speed</code> (deg/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.position(pos)</code></td>
<td>Move to and hold at <code>pos</code> (deg)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.position(pos, speed)</code></td>
<td>Move to and hold at <code>pos</code> (deg) with max. <code>speed</code> (deg/s)</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>rmd.stop()</code></td>
<td>Stop motor (but keep operating state)</td>
<td></td>
</tr>
<tr>
<td><code>rmd.off()</code></td>
<td>Turn motor off (clear operating state)</td>
<td></td>
</tr>
<tr>
<td><code>rmd.hold()</code></td>
<td>Hold current position</td>
<td></td>
</tr>
<tr>
<td><code>rmd.get_pid()</code></td>
<td>Print PID parameters Kp/Ki for position/speed/torque loop</td>
<td></td>
</tr>
<tr>
<td><code>rmd.set_pid(...)</code></td>
<td>Set PID parameters Kp/Ki for position/speed/torque loop</td>
<td>6x <code>int</code></td>
</tr>
<tr>
<td><code>rmd.get_acceleration()</code></td>
<td>Print acceleration (deg/s^2)</td>
<td></td>
</tr>
<tr>
<td><code>rmd.set_acceleration(...)</code></td>
<td>Set accelerations/decelerations for position/speed loop (deg/s^2)</td>
<td>4x <code>int</code></td>
</tr>
<tr>
<td><code>rmd.get_status()</code></td>
<td>Print temperature [˚C], voltage [V] and motor error code</td>
<td></td>
</tr>
<tr>
<td><code>rmd.clear_errors()</code></td>
<td>Clear motor error</td>
<td></td>
</tr>
<tr>
<td><code>rmd.enable()</code></td>
<td>Enable the motor</td>
<td></td>
</tr>
<tr>
<td><code>rmd.disable()</code></td>
<td>Disable the motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will stop and ignore movement commands.</p>
<p><strong>Set acceleration</strong></p>
<p>Although <code>get_acceleration()</code> prints only one acceleration per motor, <code>set_acceleration</code> distinguishes the following four parameters:</p>
<ol>
<li>acceleration for position mode</li>
<li>deceleration for position mode</li>
<li>acceleration for speed mode</li>
<li>deceleration for speed mode</li>
</ol>
<p>You can pass <code>0</code> to skip parameters, i.e. to keep individual acceleration values unchanged.</p>
<h2 id="rmd-motor-pair">RMD Motor Pair<a class="headerlink" href="#rmd-motor-pair" title="Permanent link">&para;</a></h2>
<p>The RMD motor pair module allows to synchronize two RMD motors.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd = RmdPair(rmd1, rmd2)</code></td>
<td>Two RMD motor modules</td>
<td>2x RMD Motor module</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd.v_max</code></td>
<td>Maximum speed (deg/s, default: 360)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.a_max</code></td>
<td>Maximum acceleration (deg/s² (default: 10000)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>rmd.enabled</code></td>
<td>Whether the motor pair is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rmd.move(x, y)</code></td>
<td>Move motor 1 to <code>x</code> and motor 2 to <code>x</code></td>
<td>2x <code>float</code></td>
</tr>
<tr>
<td><code>rmd.stop()</code></td>
<td>Stop motors (but keep operating state)</td>
<td></td>
</tr>
<tr>
<td><code>rmd.off()</code></td>
<td>Turn motors off (clear operating state)</td>
<td></td>
</tr>
<tr>
<td><code>rmd.hold()</code></td>
<td>Hold current positions</td>
<td></td>
</tr>
<tr>
<td><code>rmd.clear_errors()</code></td>
<td>Clear motor errors</td>
<td></td>
</tr>
<tr>
<td><code>rmd.enable()</code></td>
<td>Enable both motors</td>
<td></td>
</tr>
<tr>
<td><code>rmd.disable()</code></td>
<td>Disable both motors</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor pair is disabled, it will stop both motors and ignore movement commands.</p>
<h2 id="roboclaw">RoboClaw<a class="headerlink" href="#roboclaw" title="Permanent link">&para;</a></h2>
<p>The RoboClaw module serves as building block for more complex modules like RoboClaw motors.
It communicates with a <a href="https://www.basicmicro.com/">Basicmicro</a> RoboClaw motor driver via serial.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>claw = RoboClaw(serial, address)</code></td>
<td>Serial module and address</td>
<td>Serial module, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>claw.temperature</code></td>
<td>Board temperature (degrees Celsius)</td>
<td><code>float</code></td>
</tr>
</tbody>
</table>
<p>The temperature property is updated every 1 second.</p>
<h2 id="roboclaw-motor">RoboClaw Motor<a class="headerlink" href="#roboclaw-motor" title="Permanent link">&para;</a></h2>
<p>The RoboClaw motor module controls a motor using a RoboClaw module.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = RoboClawMotor(claw, motor_id)</code></td>
<td>RoboClaw module and motor ID (1..2)</td>
<td>RoboClaw module, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.position</code></td>
<td>Multi-turn motor position (encoder ticks)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.power(torque)</code></td>
<td>Move with given <code>torque</code> (-1..1)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.speed(speed)</code></td>
<td>Move with given <code>speed</code> (-32767..32767)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.zero()</code></td>
<td>Store position as zero position</td>
<td></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will stop and ignore movement commands.</p>
<h2 id="roboclaw-wheels">RoboClaw Wheels<a class="headerlink" href="#roboclaw-wheels" title="Permanent link">&para;</a></h2>
<p>The RoboClaw wheels module combines two RoboClaw motors and provides odometry and steering for differential wheeled robots.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels = RoboClawWheels(left_motor, left_motor)</code></td>
<td>left and right motors</td>
<td>two RoboClaw motor modules</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.width</code></td>
<td>Wheel distance (m)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.linear_speed</code></td>
<td>Forward speed (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.angular_speed</code></td>
<td>Turning speed (rad/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.m_per_tick</code></td>
<td>Meters per encoder tick</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.enabled</code></td>
<td>Whether motors react to commands</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.power(left, right)</code></td>
<td>Move with torque per wheel (-1..1)</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>wheels.speed(linear, angular)</code></td>
<td>Move with <code>linear</code>/<code>angular</code> speed (m/s, rad/s)</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>wheels.off()</code></td>
<td>Turn both motors off (idle state)</td>
<td></td>
</tr>
<tr>
<td><code>wheels.enable()</code></td>
<td>Enable both motors</td>
<td></td>
</tr>
<tr>
<td><code>wheels.disable()</code></td>
<td>Disable both motors</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the wheels are disabled, they will stop and ignore movement commands.</p>
<h2 id="stepper-motor">Stepper Motor<a class="headerlink" href="#stepper-motor" title="Permanent link">&para;</a></h2>
<p>The stepper motor module controls a stepper motor via "step" and "direction" pins.
It uses the ESP LED Control API to generate pulses with sufficiently high frequencies and the Pulse Counter API to count steps.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = StepperMotor(step, dir[, pu[, cp[, lt[, lc]]]])</code></td>
<td>Step and direction pins</td>
<td>6x <code>int</code></td>
</tr>
</tbody>
</table>
<p>The constructor arguments <code>pu</code> (pulse counter unit), <code>pc</code> (pulse counter channel), <code>lt</code> (LED timer) and <code>lc</code> (LED channel) are optional and default to 0.
When using multiple stepper motors, they can be set to different values to avoid conflicts.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.position</code></td>
<td>Motor position (steps)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.speed</code></td>
<td>Motor speed (steps per second)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.idle</code></td>
<td>Motor idle state</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.speed(speed[, acceleration])</code></td>
<td>Move with given <code>speed</code></td>
<td>2x <code>float</code></td>
</tr>
<tr>
<td><code>motor.position(position, speed[, acceleration])</code></td>
<td>Move to given <code>position</code></td>
<td>3x <code>float</code></td>
</tr>
<tr>
<td><code>motor.stop()</code></td>
<td>Stop</td>
<td></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>The optional acceleration argument defaults to 0, which starts and stops pulsing immediately.</p>
<p>When the motor is disabled, it will stop and ignore movement commands.</p>
<h2 id="motor-axis">Motor Axis<a class="headerlink" href="#motor-axis" title="Permanent link">&para;</a></h2>
<p>The motor axis module wraps a motor and two limit switches.
It prevents the motor from moving past the limits.
But in contrast to a simple Lizard rule, it allows to actively move out of the limits when moving in the right direction.
Currently supported motor types are CanOpenMotor, ODriveMotor and StepperMotor.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>axis = MotorAxis(motor, limit1, limit2)</code></td>
<td>motor and input modules</td>
<td>3 modules</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>axis.enabled</code></td>
<td>Whether the motor axis is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p>To get the current position or speed, access the motor module instead.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>axis.speed(speed[, acceleration])</code></td>
<td>Move with given <code>speed</code></td>
<td>2x <code>float</code></td>
</tr>
<tr>
<td><code>axis.position(position, speed[, acceleration])</code></td>
<td>Move to given <code>position</code></td>
<td>3x <code>float</code></td>
</tr>
<tr>
<td><code>axis.stop()</code></td>
<td>Stop</td>
<td></td>
</tr>
<tr>
<td><code>axis.enable()</code></td>
<td>Enable the motor axis</td>
<td></td>
</tr>
<tr>
<td><code>axis.disable()</code></td>
<td>Disable the motor axis</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor axis is disabled, it will stop the motor and ignore movement commands.</p>
<h2 id="canopenmaster">CanOpenMaster<a class="headerlink" href="#canopenmaster" title="Permanent link">&para;</a></h2>
<p>The CanOpenMaster module sends periodic SYNC messages to all CANopen nodes. At creation, no messages are sent until <code>sync_interval</code> is set to a value greater than 0.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>co_master = CanOpenMaster(can)</code></td>
<td>CAN module</td>
<td>CAN module</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>co_master.sync_interval</code></td>
<td>Amount of lizard steps in between each SYNC</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<h2 id="canopenmotor">CanOpenMotor<a class="headerlink" href="#canopenmotor" title="Permanent link">&para;</a></h2>
<p>The CanOpenMotor module implements a subset of commands necessary to control a motor implementing DS402.
Positional and velocity units are currently undefined and must by manually measured.
Once the configuration sequence has finished, current status, position and velocity are queried on every SYNC.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = CanOpenMotor(can, node_id)</code></td>
<td>CAN module and node ID (1..127)</td>
<td>CAN module, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.enter_pp_mode(velo)</code></td>
<td>Set 402 operating mode to profile position, halt off, and target velocity to <code>velo</code></td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.enter_pv_mode()</code></td>
<td>Set 402 operating mode to profile velocity, halt on, and target velocity to <code>velo</code></td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.set_target_position(pos)</code></td>
<td>Set target position to <code>pos</code> (signed). [pp mode]</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.commit_target_position()</code></td>
<td>Instruct motor to move to previously set target position. [pp mode]</td>
<td></td>
</tr>
<tr>
<td><code>motor.set_target_velocity(velo)</code></td>
<td>Set target velocity to <code>velo</code>. Absolute for pp mode, signed for pv mode</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.set_ctrl_halt(mode)</code></td>
<td>Latches / resets the "halt" bit and sends the updated control word to the node</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.set_ctrl_enable(mode)</code></td>
<td>Latches / resets the "enable operation" bit and sends an updated control word to the node</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.set_profile_acceleration(acceleration)</code></td>
<td>Sets the motor acceleration</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.set_profile_deceleration(deceleration)</code></td>
<td>Sets the motor deceleration</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.set_profile_quick_stop_deceleration(deceleration)</code></td>
<td>Sets the motor deceleration for the quick stop command</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.reset_fault()</code></td>
<td>Clear any faults (like positioning errors). Implicitly sets the "halt" bit.</td>
<td></td>
</tr>
<tr>
<td><code>motor.sdo_read(index)</code></td>
<td>Performs an SDO read at index <code>index</code> and sub index <code>0x00</code></td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>initialized</code></td>
<td>Concurrent init sequence has finished, motor is ready</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>last_heartbeat</code></td>
<td>Time in µs since bootup when last heartbeat was received</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>is_booting</code></td>
<td>Node is in booting state</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>is_preoperational</code></td>
<td>Node is in pre-operational state</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>is_operational</code></td>
<td>Node is in operational state</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>actual_position</code></td>
<td>Motor position at last SYNC</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>position_offset</code></td>
<td>Offset implicitly added to target/reported position</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>actual_velocity</code></td>
<td>Motor velocity at last SYNC</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>status_enabled</code></td>
<td>Operation enabled bit of status word since last SYNC</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>status_fault</code></td>
<td>Fault bit of status word since last SYNC</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>status_target_reached</code></td>
<td>Target reached bit of status word since last SYNC</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>ctrl_enable</code></td>
<td>Latched operation enable bit of every sent control word</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>ctrl_halt</code></td>
<td>Latched halt bit of every sent control word</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p><strong>Configuration sequence</strong></p>
<p>After creation of the module, the configuration is stepped through automatically on each heartbeat; once finished, the <code>initialized</code> attribute is set to <code>true</code>.
Note that for runtime variables (actual position, velocity, and status bits) to be updated, a CanOpenMaster module must exist and be sending periodic SYNCs.</p>
<p><strong>Target position sequence</strong></p>
<p>Note: The target velocity must be positive regardless of target point direction.
The halt bit is cleared when entering pp, though it can be set at any point during moves to effectively apply brakes.</p>
<pre><code>// First time, assuming motor is disabled and not in pp mode
motor.set_ctrl_enable(true)
motor.enter_pp_mode(&lt;some positive velocity&gt;)

// All further set points only need these
motor.set_target_position(&lt;some position&gt;)
motor.commit_target_position()
</code></pre>
<p><strong>Target velocity sequence</strong></p>
<p>Unlike in the profile position mode, here the sign of the velocity does controls the direction.
The halt bit is set when entering pv. To start moving, clear it (and set again to stop).</p>
<pre><code>// First time, assuming motor is disabled and not in pv mode
motor.set_ctrl_enable(true)
motor.enter_pv_mode(&lt;some signed velocity&gt;)

// Further movements only need these
motor.set_ctrl_halt(false)
// await some condition
motor.set_ctrl_halt(true)
</code></pre>
<h2 id="d1-motor">D1 Motor<a class="headerlink" href="#d1-motor" title="Permanent link">&para;</a></h2>
<p>This module controls an <a href="https://www.igus.eu/product/D1">igus D1 motor controller</a> via CANOpen.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = D1Motor(can, node_id)</code></td>
<td>CAN module and node ID (1..127)</td>
<td>CAN module, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.switch_search_speed</code></td>
<td>Speed for moving into the end stop</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.zero_search_speed</code></td>
<td>Speed for moving out ot the end stop</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.homing_acceleration</code></td>
<td>Acceleration for homing</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.profile_acceleration</code></td>
<td>Acceleration for profile movements</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.profile_velocity</code></td>
<td>Velocity for profile position movements</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.profile_deceleration</code></td>
<td>Deceleration for profile movements</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.position</code></td>
<td>Current position</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.velocity</code></td>
<td>Current velocity</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.status_word</code></td>
<td>Status word</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.status_flags</code></td>
<td>Status flags</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p>Bit 0 of the status flags indicates the motor is referenced (1) or not (0).</p>
<p>The status word (also called "Statusword") is a 16 bit integer with several flags. See the <a href="https://www.igus.eu/product/D1">D1 manual</a> for details.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.setup()</code></td>
<td>Setup (enable) the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.home()</code></td>
<td>Start homing the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.profile_position()</code></td>
<td>Move to given position</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.profile_velocity()</code></td>
<td>Move with given velocity</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.stop()</code></td>
<td>Stop (disable) the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.reset()</code></td>
<td>Reset motor errors</td>
<td></td>
</tr>
<tr>
<td><code>motor.sdo_read(index[, subindex])</code></td>
<td>Read SDO</td>
<td>2x <code>int</code></td>
</tr>
<tr>
<td><code>motor.sdo_write(index, subindex, bits, value)</code></td>
<td>Write SDO</td>
<td>4x <code>int</code></td>
</tr>
<tr>
<td><code>motor.nmt_write()</code></td>
<td>Write NMT</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will stop and ignore movement commands.</p>
<h2 id="dunkermotor">DunkerMotor<a class="headerlink" href="#dunkermotor" title="Permanent link">&para;</a></h2>
<p>This module controls <a href="https://www.dunkermotoren.de/">dunkermotoren</a> motor via CANOpen.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor = DunkerMotor(can, node_id)</code></td>
<td>CAN module and node ID (1..127)</td>
<td>CAN module, <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.speed</code></td>
<td>Motor speed (meters per second)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.voltage_logic</code></td>
<td>Voltage logic (V)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.voltage_power</code></td>
<td>Voltage power (V)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.m_per_turn</code></td>
<td>Meters per turn</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.reversed</code></td>
<td>Reverse motor direction</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>motor.enabled</code></td>
<td>Whether the motor is enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<p>Note: To reduce bandwidth, voltages are only queried when explicitly requested by calling <code>update_voltages()</code>.</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>motor.speed(speed)</code></td>
<td>Move with given <code>speed</code> (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.sdo_read(index[, subindex])</code></td>
<td>Read SDO</td>
<td>2x <code>int</code></td>
</tr>
<tr>
<td><code>motor.sdo_write(index, subindex, bits, value)</code></td>
<td>Write SDO</td>
<td>4x <code>int</code></td>
</tr>
<tr>
<td><code>motor.update_voltages()</code></td>
<td>Update voltages</td>
<td></td>
</tr>
<tr>
<td><code>motor.enable()</code></td>
<td>Enable the Motor</td>
<td></td>
</tr>
<tr>
<td><code>motor.disable()</code></td>
<td>Disable the Motor</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the motor is disabled, it will freewheel and ignore movement commands.</p>
<h2 id="dunkerwheels">DunkerWheels<a class="headerlink" href="#dunkerwheels" title="Permanent link">&para;</a></h2>
<p>The DunkerWheels module combines two DunkerMotor modules and provides odometry and steering for differential wheeled robots.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels = DunkerWheels(left_motor, right_motor)</code></td>
<td>left and right motors</td>
<td>two DunkerMotor modules</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.width</code></td>
<td>Wheel distance (m)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.linear_speed</code></td>
<td>Forward speed (m/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.angular_speed</code></td>
<td>Turning speed (rad/s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>wheels.enabled</code></td>
<td>Whether the wheels are enabled</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>wheels.speed(linear, angular)</code></td>
<td>Move with <code>linear</code>/<code>angular</code> speed (m/s, rad/s)</td>
<td><code>float</code>, <code>float</code></td>
</tr>
<tr>
<td><code>wheels.enable()</code></td>
<td>Enable both motors</td>
<td></td>
</tr>
<tr>
<td><code>wheels.disable()</code></td>
<td>Disable both motors</td>
<td></td>
</tr>
</tbody>
</table>
<p>When the wheels are disabled, they will freewheel and ignore movement commands.</p>
<h2 id="analog-input">Analog Input<a class="headerlink" href="#analog-input" title="Permanent link">&para;</a></h2>
<p>This module is designed for reading analog voltages and converting them to digital values using the ESP32's ADC units.
For detailed specifications of the ESP32 ADC modules, including attenuation levels, voltage range mappings, and GPIO-to-channel mapping, check the ESP32 documentation.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>analog = Analog(unit, channel[, attenuation])</code></td>
<td>unit, channel and attenuation level (dB)</td>
<td><code>int</code>, <code>int</code>, <code>float</code></td>
</tr>
</tbody>
</table>
<p>Possible attenuation levels are 0, 2.5, 6, and 12 dB.
The default attenuation level is 12 dB.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>raw</code></td>
<td>raw measurement value (0-4095)</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>voltage</code></td>
<td>voltage (V)</td>
<td><code>float</code></td>
</tr>
</tbody>
</table>
<h2 id="expander">Expander<a class="headerlink" href="#expander" title="Permanent link">&para;</a></h2>
<p>The expander module allows communication with another microcontroller connected via <a href="#serial-interface">serial</a>.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>expander = Expander(serial[, boot, enable])</code></td>
<td>Serial module and boot/enable pins</td>
<td>Serial module, 2x <code>int</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Methods</th>
<th>Description</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>expander.run(command)</code></td>
<td>Run any <code>command</code> on the other microcontroller</td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>expander.disconnect()</code></td>
<td>Disconnect serial connection and pins</td>
<td></td>
</tr>
<tr>
<td><code>expander.flash([force])</code></td>
<td>Flash other microcontroller with own binary data</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>expander.restart()</code></td>
<td>Restart other microcontroller</td>
<td></td>
</tr>
</tbody>
</table>
<p>The <code>flash()</code> method requires the <code>boot</code> and <code>enable</code> pins to be defined.
The optional <code>force</code> argument skips the default check whether certain strapping pins are set correctly.</p>
<p>The <code>disconnect()</code> method might be useful to access the other microcontroller on UART0 via USB while still being physically connected to the main microcontroller.</p>
<p>Note that the expander forwards all other method calls to the remote core module, e.g. <code>expander.info()</code>.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boot_timeout</code></td>
<td>Time to wait for other microcontroller to boot (s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>ping_interval</code></td>
<td>Time between pings (s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>ping_timeout</code></td>
<td>Time before timing out (s)</td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>is_ready</code></td>
<td>Whether the remote module has booted and is ready</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>last_message_age</code></td>
<td>Time since last message from other microcontroller (ms)</td>
<td><code>int</code></td>
</tr>
</tbody>
</table>
<h2 id="proxy">Proxy<a class="headerlink" href="#proxy" title="Permanent link">&para;</a></h2>
<p>-- <em>This module is mainly for internal use with the expander module.</em> --</p>
<p>Proxy modules serve as handles for remote modules running on another microcontroller.
Declaring a module <code>x = Proxy()</code> will allow formulating rules like <code>when x.level == 0 then ...</code>.
It will receive property values from a remote module with the same name <code>x</code>, e.g. an input signal level.
Note that the remote module has to have turned on broadcasting: <code>x.broadcast()</code>.</p>
<table>
<thead>
<tr>
<th>Constructor</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>module = Proxy()</code></td>
</tr>
</tbody>
</table>
<p>Note that the proxy module forwards all method calls to the remote module.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>is_ready</code></td>
<td>Whether the remote module has booted and is ready</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>